{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/maekawaminoruyoshiko/program/AtCodersInformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/maekawaminoruyoshiko/program/AtCodersInformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/maekawaminoruyoshiko/program/AtCodersInformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import axios from'axios';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contestsList=_useState2[0],setContestsList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),displayList=_useState4[0],setDisplayList=_useState4[1];var _useState5=useState('all'),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),keyword=_useState8[0],setKeyword=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,2),displayCount=_useState10[0],setDisplayCount=_useState10[1];var _useState11=useState('newer'),_useState12=_slicedToArray(_useState11,2),sort=_useState12[0],setSort=_useState12[1];useEffect(function(){getInformation();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// 情報取得  ok\nvar getInformation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://kenkoooo.com/atcoder/resources/contests.json');case 3:result=_context.sent;result.data.sort(function(a,b){if(a.start_epoch_second>b.start_epoch_second){return-1;}else{return 1;}});objectChange(result.data);setContestsList(result.data);setDisplayList(result.data);console.log(displayCount,\"first\");console.log(\"a\");_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);// リクエストに失敗した時の処理\nconsole.log('error!!');case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getInformation(){return _ref.apply(this,arguments);};}();// 日本時間、コンテスト時間　ok \nvar objectChange=function objectChange(list){return list.map(function(contest){contest.start=new Date(contest.start_epoch_second*1000).toString();contest.start=contest.start.replace(' GMT+0900 (日本標準時)','');contest.duration_second=contest.duration_second/60+'min';// => 試験時間(分)\ncontest.url='https://atcoder.jp/'+contest.id;return contest;});};// もっと見る   ok\nvar onClickShowMore=function onClickShowMore(){setDisplayCount(function(displayCount){return displayCount+10;});console.log(displayCount,\"more\");};// 種類  ok\nvar typeHandleChange=function typeHandleChange(e){setType(e.target.value);setDisplayList(contestsList.filter(function(contest){return contest.id.indexOf(e.target.value)!==-1;}));console.log(e.target.value,sort);sortFilter(sort);};// 検索    ok\nvar keywordChange=function keywordChange(e){setKeyword(e.target.value);searchFilter(e);};var searchFilter=function searchFilter(e){// filter()で絞り込み、絞り込んだ配列をline変数に格納\nvar line=contestsList.filter(function(contest){return(// キーワードが含まれていればtrueを返す\ncontest.id.toLowerCase().indexOf(e.target.value)>=0||contest.start.toString().indexOf(e.target.value)>=0||contest.duration_second.toString().indexOf(e.target.value)>=0||contest.title.toLowerCase().indexOf(e.target.value)>=0);});setDisplayList(line);console.log(e.target.value);};// 表示件数  ok\nvar displayCountHandleChange=function displayCountHandleChange(e){setDisplayCount(+e.target.value);console.log(displayCount,\"change\");};// 並び替え   ok\nvar sortHandleChange=function sortHandleChange(e){setSort(e.target.value);sortFilter(e.target.value);console.log(e.target.value);};var sortFilter=function sortFilter(e){if(e==='newer'){setDisplayList(function(displayList){return displayList.sort(function(a,b){if(a.start_epoch_second>b.start_epoch_second){return-1;}else{return 1;}});});}if(e==='older'){setDisplayList(function(displayList){return displayList.sort(function(a,b){if(a.start_epoch_second<b.start_epoch_second){return-1;}else{return 1;}});});}if(e==='abcSort'){setDisplayList(function(displayList){return displayList.sort(function(a,b){if(a.title<b.title){return-1;}else{return 1;}});});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"headerLogo\",children:\"Atcoder Contests Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formats\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"format select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:typeHandleChange,value:type,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"ALL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"abc\",children:\"ABC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"arc\",children:\"ARC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agc\",children:\"AGC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"past\",children:\"PAST\"}),/*#__PURE__*/_jsx(\"option\",{value:\"joi\",children:\"JOI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jag\",children:\"JAG\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"format select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:displayCountHandleChange,value:displayCount,children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:displayList.length,children:\"\\u5168\\u4EF6\\u8868\\u793A\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"format select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:sortHandleChange,value:sort,className:\"sortSelect\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"newer\",children:\"\\u65B0\\u3057\\u3044\\u9806\"}),/*#__PURE__*/_jsx(\"option\",{value:\"older\",children:\"\\u53E4\\u3044\\u9806\"}),/*#__PURE__*/_jsx(\"option\",{value:\"abcSort\",children:\"\\u4E94\\u5341\\u97F3\\u9806\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"format\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"formatFocus\",children:/*#__PURE__*/_jsx(\"input\",{className:\"textFormat\",type:\"text\",value:keyword,placeholder:\"Keyword\",onChange:function onChange(e){keywordChange(e);}})}),/*#__PURE__*/_jsx(\"span\",{class:\"focus_line\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Information about the contests\"})}),displayList.map(function(contest,index){if(index>=displayCount)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"contestsTable\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"a\",{href:contest.url,className:\"contestTitle\",target:\"_blank\",rel:\"noopener noreferrer\",children:contest.title})}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Start Time\"}),/*#__PURE__*/_jsx(\"td\",{children:contest.start})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Duration\"}),/*#__PURE__*/_jsx(\"td\",{children:contest.duration_second})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rated Range\"}),/*#__PURE__*/_jsx(\"td\",{children:contest.rate_change})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"URL\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:contest.url,target:\"_blank\",rel:\"noopener noreferrer\",children:contest.url})})]})]})})]});}),displayCount<displayList.length&&/*#__PURE__*/_jsx(\"button\",{className:\"showMoreButton\",onClick:function onClick(){onClickShowMore();},children:\"More...\"}),displayCount>=displayList.length&&/*#__PURE__*/_jsx(\"p\",{className:\"noMore\",children:\"No more\"})]})]});};export default App;","map":{"version":3,"sources":["/Users/maekawaminoruyoshiko/program/AtCodersInformation/src/App.js"],"names":["React","useState","useEffect","axios","App","contestsList","setContestsList","displayList","setDisplayList","type","setType","keyword","setKeyword","displayCount","setDisplayCount","sort","setSort","getInformation","get","result","data","a","b","start_epoch_second","objectChange","console","log","list","map","contest","start","Date","toString","replace","duration_second","url","id","onClickShowMore","typeHandleChange","e","target","value","filter","indexOf","sortFilter","keywordChange","searchFilter","line","toLowerCase","title","displayCountHandleChange","sortHandleChange","length","index","rate_change"],"mappings":"+lBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACwBH,QAAQ,CAAC,EAAD,CADhC,wCACTI,YADS,eACKC,eADL,8BAEsBL,QAAQ,CAAC,EAAD,CAF9B,yCAETM,WAFS,eAEIC,cAFJ,8BAGQP,QAAQ,CAAC,KAAD,CAHhB,yCAGTQ,IAHS,eAGHC,OAHG,8BAIcT,QAAQ,CAAC,EAAD,CAJtB,yCAITU,OAJS,eAIAC,UAJA,8BAKwBX,QAAQ,CAAC,EAAD,CALhC,0CAKTY,YALS,gBAKKC,eALL,gCAMQb,QAAQ,CAAC,OAAD,CANhB,2CAMTc,IANS,gBAMHC,OANG,gBAQhBd,SAAS,CAAC,UAAK,CACbe,cAAc,GACd;AACD,CAHQ,CAGN,EAHM,CAAT,CAKA;AACA,GAAMA,CAAAA,cAAc,0FAAG,oLAEEd,CAAAA,KAAK,CAACe,GAAN,CAChB,sDADgB,CAFF,QAEbC,MAFa,eAKnBA,MAAM,CAACC,IAAP,CAAYL,IAAZ,CAAiB,SAACM,CAAD,CAAIC,CAAJ,CAAU,CACzB,GAAID,CAAC,CAACE,kBAAF,CAAuBD,CAAC,CAACC,kBAA7B,CAAiD,CAC7C,MAAO,CAAC,CAAR,CACH,CAFD,IAEO,CACH,MAAO,EAAP,CACH,CACF,CAND,EAOAC,YAAY,CAACL,MAAM,CAACC,IAAR,CAAZ,CACAd,eAAe,CAACa,MAAM,CAACC,IAAR,CAAf,CACAZ,cAAc,CAACW,MAAM,CAACC,IAAR,CAAd,CACAK,OAAO,CAACC,GAAR,CAAYb,YAAZ,CAA0B,OAA1B,EACAY,OAAO,CAACC,GAAR,CAAY,GAAZ,EAhBmB,iFAkBnB;AACAD,OAAO,CAACC,GAAR,CAAY,SAAZ,EAnBmB,qEAAH,kBAAdT,CAAAA,cAAc,0CAApB,CAuBA;AACA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACG,IAAD,CAAU,CAC7B,MAAOA,CAAAA,IAAI,CAACC,GAAL,CAAS,SAAAC,OAAO,CAAI,CACzBA,OAAO,CAACC,KAAR,CAAgB,GAAIC,CAAAA,IAAJ,CAASF,OAAO,CAACN,kBAAR,CAA6B,IAAtC,EAA4CS,QAA5C,EAAhB,CACAH,OAAO,CAACC,KAAR,CAAgBD,OAAO,CAACC,KAAR,CAAcG,OAAd,CAAsB,mBAAtB,CAA2C,EAA3C,CAAhB,CACAJ,OAAO,CAACK,eAAR,CAA2BL,OAAO,CAACK,eAAR,CAA0B,EAA1B,CAA+B,KAA1D,CAA+D;AAC/DL,OAAO,CAACM,GAAR,CAAc,sBAAwBN,OAAO,CAACO,EAA9C,CACA,MAAOP,CAAAA,OAAP,CACD,CANM,CAAP,CAOD,CARD,CAUA;AACA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BvB,eAAe,CAAC,SAAAD,YAAY,QAAIA,CAAAA,YAAY,CAAG,EAAnB,EAAb,CAAf,CACAY,OAAO,CAACC,GAAR,CAAYb,YAAZ,CAA0B,MAA1B,EACD,CAHD,CAKA;AACA,GAAMyB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,CAAD,CAAO,CAC9B7B,OAAO,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACAjC,cAAc,CAACH,YAAY,CAACqC,MAAb,CAAoB,SAACb,OAAD,CAAa,CAC9C,MAAOA,CAAAA,OAAO,CAACO,EAAR,CAAWO,OAAX,CAAmBJ,CAAC,CAACC,MAAF,CAASC,KAA5B,IAAuC,CAAC,CAA/C,CACD,CAFc,CAAD,CAAd,CAGAhB,OAAO,CAACC,GAAR,CAAYa,CAAC,CAACC,MAAF,CAASC,KAArB,CAA4B1B,IAA5B,EACA6B,UAAU,CAAC7B,IAAD,CAAV,CACD,CAPD,CASA;AACA,GAAM8B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACN,CAAD,CAAO,CAC3B3B,UAAU,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACAK,YAAY,CAACP,CAAD,CAAZ,CACD,CAHD,CAIA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,CAAD,CAAO,CAC1B;AACA,GAAMQ,CAAAA,IAAI,CAAG1C,YAAY,CAACqC,MAAb,CAAoB,SAACb,OAAD,QAC/B;AACAA,OAAO,CAACO,EAAR,CAAWY,WAAX,GAAyBL,OAAzB,CAAiCJ,CAAC,CAACC,MAAF,CAASC,KAA1C,GAAoD,CAApD,EACGZ,OAAO,CAACC,KAAR,CAAcE,QAAd,GAAyBW,OAAzB,CAAiCJ,CAAC,CAACC,MAAF,CAASC,KAA1C,GAAoD,CADvD,EAEGZ,OAAO,CAACK,eAAR,CAAwBF,QAAxB,GAAmCW,OAAnC,CAA2CJ,CAAC,CAACC,MAAF,CAASC,KAApD,GAA8D,CAFjE,EAGGZ,OAAO,CAACoB,KAAR,CAAcD,WAAd,GAA4BL,OAA5B,CAAoCJ,CAAC,CAACC,MAAF,CAASC,KAA7C,GAAuD,CAL3B,GAApB,CAAb,CAOAjC,cAAc,CAACuC,IAAD,CAAd,CACAtB,OAAO,CAACC,GAAR,CAAYa,CAAC,CAACC,MAAF,CAASC,KAArB,EACD,CAXD,CAcA;AACA,GAAMS,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACX,CAAD,CAAO,CACtCzB,eAAe,CAAC,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAX,CAAf,CACAhB,OAAO,CAACC,GAAR,CAAYb,YAAZ,CAA0B,QAA1B,EACD,CAHD,CAKA;AACA,GAAMsC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACZ,CAAD,CAAO,CAC9BvB,OAAO,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACAG,UAAU,CAACL,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACAhB,OAAO,CAACC,GAAR,CAAYa,CAAC,CAACC,MAAF,CAASC,KAArB,EACD,CAJD,CAKA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACL,CAAD,CAAO,CACxB,GAAIA,CAAC,GAAK,OAAV,CAAmB,CACjB/B,cAAc,CAAC,SAAAD,WAAW,QAAIA,CAAAA,WAAW,CAACQ,IAAZ,CAAkB,SAACM,CAAD,CAAIC,CAAJ,CAAU,CACxD,GAAID,CAAC,CAACE,kBAAF,CAAuBD,CAAC,CAACC,kBAA7B,CAAiD,CAC7C,MAAO,CAAC,CAAR,CACH,CAFD,IAEO,CACH,MAAO,EAAP,CACH,CACF,CAN6B,CAAJ,EAAZ,CAAd,CAOD,IAAIgB,CAAC,GAAK,OAAV,CAAmB,CAClB/B,cAAc,CAAC,SAAAD,WAAW,QAAIA,CAAAA,WAAW,CAACQ,IAAZ,CAAkB,SAACM,CAAD,CAAIC,CAAJ,CAAU,CACxD,GAAID,CAAC,CAACE,kBAAF,CAAuBD,CAAC,CAACC,kBAA7B,CAAiD,CAC7C,MAAO,CAAC,CAAR,CACH,CAFD,IAEO,CACH,MAAO,EAAP,CACH,CACF,CAN6B,CAAJ,EAAZ,CAAd,CAOD,IAAIgB,CAAC,GAAK,SAAV,CAAqB,CACpB/B,cAAc,CAAC,SAAAD,WAAW,QAAIA,CAAAA,WAAW,CAACQ,IAAZ,CAAkB,SAACM,CAAD,CAAIC,CAAJ,CAAU,CACxD,GAAID,CAAC,CAAC4B,KAAF,CAAU3B,CAAC,CAAC2B,KAAhB,CAAuB,CACnB,MAAO,CAAC,CAAR,CACH,CAFD,IAEO,CACH,MAAO,EAAP,CACH,CACF,CAN6B,CAAJ,EAAZ,CAAd,CAOD,CACF,CA1BD,CA4BA,mBACE,aAAK,SAAS,CAAC,KAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,WAAI,SAAS,CAAC,YAAd,0CADF,cAGE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAK,SAAS,CAAC,eAAf,uBACE,gBAAQ,QAAQ,CAAEX,gBAAlB,CAAoC,KAAK,CAAE7B,IAA3C,wBACE,eAAQ,KAAK,CAAC,EAAd,iBADF,cAEE,eAAQ,KAAK,CAAC,KAAd,iBAFF,cAGE,eAAQ,KAAK,CAAC,KAAd,iBAHF,cAIE,eAAQ,KAAK,CAAC,KAAd,iBAJF,cAKE,eAAQ,KAAK,CAAC,MAAd,kBALF,cAME,eAAQ,KAAK,CAAC,KAAd,iBANF,cAOE,eAAQ,KAAK,CAAC,KAAd,iBAPF,GADF,EADF,cAYE,YAAK,SAAS,CAAC,eAAf,uBACE,gBAAQ,QAAQ,CAAEyC,wBAAlB,CAA4C,KAAK,CAAErC,YAAnD,wBACE,eAAQ,KAAK,CAAC,IAAd,kCADF,cAEE,eAAQ,KAAK,CAAC,IAAd,kCAFF,cAGE,eAAQ,KAAK,CAAC,KAAd,mCAHF,cAIE,eAAQ,KAAK,CAAGN,WAAW,CAAC6C,MAA5B,sCAJF,GADF,EAZF,cAoBE,YAAK,SAAS,CAAC,eAAf,uBACE,gBAAQ,QAAQ,CAAED,gBAAlB,CAAoC,KAAK,CAAEpC,IAA3C,CAAiD,SAAS,CAAC,YAA3D,wBACE,eAAQ,KAAK,CAAC,OAAd,sCADF,cAEE,eAAQ,KAAK,CAAC,OAAd,gCAFF,cAGE,eAAQ,KAAK,CAAC,SAAd,sCAHF,GADF,EApBF,cA2BE,aAAK,SAAS,CAAC,QAAf,wBACE,cAAO,KAAK,CAAC,aAAb,uBACA,cACE,SAAS,CAAC,YADZ,CAEE,IAAI,CAAG,MAFT,CAGE,KAAK,CAAIJ,OAHX,CAIE,WAAW,CAAG,SAJhB,CAKE,QAAQ,CAAG,kBAAC4B,CAAD,CAAO,CAACM,aAAa,CAACN,CAAD,CAAb,CAAiB,CALtC,EADA,EADF,cAUC,aAAM,KAAK,CAAC,YAAZ,EAVD,GA3BF,GAHF,GAFF,cA+CE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,OAAf,uBACE,sDADF,EADF,CAKIhC,WAAW,CAACqB,GAAZ,CAAgB,SAACC,OAAD,CAAUwB,KAAV,CAAoB,CACpC,GAAIA,KAAK,EAAIxC,YAAb,CAA2B,MAAO,KAAP,CAC3B,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,iCAAI,UAAG,IAAI,CAAEgB,OAAO,CAACM,GAAjB,CAAsB,SAAS,CAAC,cAAhC,CAA+C,MAAM,CAAC,QAAtD,CAA+D,GAAG,CAAC,qBAAnE,UAA0FN,OAAO,CAACoB,KAAlG,EAAJ,EADF,cAEE,oCACE,sCACI,mCACI,kCADJ,cAEI,oBAAKpB,OAAO,CAACC,KAAb,EAFJ,GADJ,cAKI,mCACI,gCADJ,cAEI,oBAAKD,OAAO,CAACK,eAAb,EAFJ,GALJ,cASI,mCACI,mCADJ,cAEI,oBAAKL,OAAO,CAACyB,WAAb,EAFJ,GATJ,cAaI,mCACI,2BADJ,cAEI,iCAAI,UAAG,IAAI,CAAEzB,OAAO,CAACM,GAAjB,CAAsB,MAAM,CAAC,QAA7B,CAAsC,GAAG,CAAC,qBAA1C,UAAiEN,OAAO,CAACM,GAAzE,EAAJ,EAFJ,GAbJ,GADF,EAFF,GADF,CAyBD,CA3BC,CALJ,CAkCItB,YAAY,CAAGN,WAAW,CAAC6C,MAA3B,eACA,eACE,SAAS,CAAG,gBADd,CAEE,OAAO,CAAI,kBAAM,CAACf,eAAe,GAAG,CAFtC,qBAnCJ,CA2CGxB,YAAY,EAAIN,WAAW,CAAC6C,MAA5B,eACC,UAAG,SAAS,CAAG,QAAf,qBA5CJ,GA/CF,GADF,CAoGD,CA/ND,CAiOA,cAAehD,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport './App.css'\nimport axios from 'axios'\n\nconst App = () => {\n  const [contestsList, setContestsList] = useState([])\n  const [displayList, setDisplayList] = useState([])\n  const [type, setType] = useState('all')\n  const [keyword, setKeyword] = useState('')\n  const [displayCount, setDisplayCount] = useState(10)\n  const [sort, setSort] = useState('newer')\n\n  useEffect(() =>{ \n    getInformation()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // 情報取得  ok\n  const getInformation = async () => {\n    try {\n      const result = await axios.get(\n        `${'https://kenkoooo.com/atcoder/resources/contests.json'}`\n      )\n      result.data.sort((a, b) => {\n        if (a.start_epoch_second > b.start_epoch_second) {\n            return -1;\n        } else {\n            return 1;\n        }\n      })\n      objectChange(result.data)\n      setContestsList(result.data)\n      setDisplayList(result.data)\n      console.log(displayCount, \"first\")\n      console.log(\"a\")\n    } catch (error) {\n      // リクエストに失敗した時の処理\n      console.log('error!!')\n    }\n  }\n\n  // 日本時間、コンテスト時間　ok \n  const objectChange = (list) => {\n    return list.map(contest => {\n      contest.start = new Date(contest.start_epoch_second * 1000).toString()\n      contest.start = contest.start.replace(' GMT+0900 (日本標準時)', '')\n      contest.duration_second =  contest.duration_second / 60 + 'min'// => 試験時間(分)\n      contest.url = 'https://atcoder.jp/' + contest.id\n      return contest\n    })\n  }\n\n  // もっと見る   ok\n  const onClickShowMore = () => {\n    setDisplayCount(displayCount => displayCount + 10)\n    console.log(displayCount, \"more\")\n  }\n\n  // 種類  ok\n  const typeHandleChange = (e) => {\n    setType(e.target.value)\n    setDisplayList(contestsList.filter((contest) => {\n      return contest.id.indexOf(e.target.value) !== -1\n    }))\n    console.log(e.target.value, sort)\n    sortFilter(sort)\n  }\n  \n  // 検索    ok\n  const keywordChange = (e) => {\n    setKeyword(e.target.value)\n    searchFilter(e)\n  }\n  const searchFilter = (e) => {\n    // filter()で絞り込み、絞り込んだ配列をline変数に格納\n    const line = contestsList.filter((contest) => (\n      // キーワードが含まれていればtrueを返す\n      contest.id.toLowerCase().indexOf(e.target.value) >= 0\n      || contest.start.toString().indexOf(e.target.value) >= 0\n      || contest.duration_second.toString().indexOf(e.target.value) >= 0\n      || contest.title.toLowerCase().indexOf(e.target.value) >= 0\n    ));\n    setDisplayList(line)\n    console.log(e.target.value)\n  }\n\n  \n  // 表示件数  ok\n  const displayCountHandleChange = (e) => {\n    setDisplayCount(+e.target.value)\n    console.log(displayCount, \"change\")\n  }\n\n  // 並び替え   ok\n  const sortHandleChange = (e) => {\n    setSort(e.target.value)\n    sortFilter(e.target.value)\n    console.log(e.target.value)\n  }\n  const sortFilter = (e) => {\n    if (e === 'newer') {\n      setDisplayList(displayList => displayList.sort ((a, b) => {\n        if (a.start_epoch_second > b.start_epoch_second) {\n            return -1;\n        } else {\n            return 1;\n        }\n      }))\n    }if (e === 'older') {\n      setDisplayList(displayList => displayList.sort ((a, b) => {\n        if (a.start_epoch_second < b.start_epoch_second) {\n            return -1;\n        } else {\n            return 1;\n        }\n      }))\n    }if (e === 'abcSort') {\n      setDisplayList(displayList => displayList.sort ((a, b) => {\n        if (a.title < b.title) {\n            return -1;\n        } else {\n            return 1;\n        }\n      }))\n    }\n  }\n\n  return (\n    <div className=\"App\">\n\n      <div className='header'>\n        <h1 className='headerLogo'>Atcoder Contests Information</h1>\n\n        <div className=\"formats\">\n          <div className='format select'>\n            <select　onChange={typeHandleChange} value={type}>\n              <option value=''>ALL</option>\n              <option value='abc'>ABC</option>\n              <option value='arc'>ARC</option>\n              <option value='agc'>AGC</option>\n              <option value='past'>PAST</option>\n              <option value='joi'>JOI</option>\n              <option value='jag'>JAG</option>\n            </select>\n          </div>\n          <div className='format select'>\n            <select　onChange={displayCountHandleChange} value={displayCount}>\n              <option value='10'>10件表示</option>\n              <option value='50'>50件表示</option>\n              <option value='100'>100件表示</option>\n              <option value= {displayList.length} >全件表示</option>\n            </select>\n          </div>\n          <div className='format select'>\n            <select onChange={sortHandleChange} value={sort} className=\"sortSelect\">\n              <option value='newer'>新しい順</option>\n              <option value='older'>古い順</option>\n              <option value='abcSort'>五十音順</option>\n            </select>\n          </div>\n          <div className='format'>\n            <label class=\"formatFocus\">\n            <input\n              className='textFormat'\n              type = 'text'\n              value = {keyword}\n              placeholder = 'Keyword'\n              onChange= {(e) => {keywordChange(e)}} \n            />\n            </label>\n\t          <span class=\"focus_line\"></span>\n          </div>\n        </div>\n      </div>\n\n      <div className='main'>\n        <div className='title'>\n          <h2>Information about the contests</h2>\n        </div>\n\n        { displayList.map((contest, index) => {\n          if (index >= displayCount) return null\n          return (\n            <div className=\"contestsTable\">\n              <h3><a href={contest.url} className='contestTitle'　target=\"_blank\" rel=\"noopener noreferrer\">{contest.title}</a></h3>\n              <table>\n                <tbody>\n                    <tr>\n                        <th>Start Time</th>\n                        <td>{contest.start}</td>\n                    </tr>\n                    <tr>\n                        <th>Duration</th>\n                        <td>{contest.duration_second}</td>\n                    </tr>\n                    <tr>\n                        <th>Rated Range</th>\n                        <td>{contest.rate_change}</td>\n                    </tr>\n                    <tr>\n                        <th>URL</th>\n                        <td><a href={contest.url}　target=\"_blank\" rel=\"noopener noreferrer\">{contest.url}</a></td>\n                    </tr>\n                </tbody>\n              </table>\n            </div>\n          )\n        })}\n\n        { displayCount < displayList.length && (\n          <button\n            className = 'showMoreButton'\n            onClick = {() => {onClickShowMore()}}\n          >\n            More...\n          </button>\n        )}\n        \n        {displayCount >= displayList.length && (\n          <p className = 'noMore'>No more</p>\n        )}\n\n      </div>\n\n    </div>\n\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}