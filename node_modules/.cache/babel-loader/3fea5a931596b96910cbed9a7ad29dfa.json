{"ast":null,"code":"import _slicedToArray from\"/Users/maekawaminoruyoshiko/program/AtCodersInformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import'./styles.css';var Header=function Header(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),keyword=_useState4[0],setKeyword=_useState4[1];var _useState5=useState('newer'),_useState6=_slicedToArray(_useState5,2),sort=_useState6[0],setSort=_useState6[1];// 種類\nvar typeHandleChange=function typeHandleChange(filterType){setType(filterType.target.value);var searched=searchFilter(filterType.target.value,keyword);var sorted=sortFilter(searched,sort);props.setDisplayList(sorted);sortFilter(sort);};// 検索\nvar keywordChange=function keywordChange(filterWord){setKeyword(filterWord.target.value);var searched=searchFilter(type,filterWord.target.value);var sorted=sortFilter(searched,sort);props.setDisplayList(sorted);};// 空白のとこ\nvar searchFilter=function searchFilter(filterType,filterWord){// 大文字小文字対応\nvar toLowerWord=filterWord.toLowerCase();var regWord=new RegExp(\".*\".concat(toLowerWord,\".*\"));var regType=new RegExp(\"^(?=.*\".concat(filterType,\").*$\"));return props.contestsList.filter(function(contest){var toLowerTitle=contest.title.toLowerCase();return regWord.test(\"\".concat(contest.start).concat(contest.duration_second,\"toLowerTitle\").concat(contest.url).concat(contest.rate_change))&&regType.test(\"\".concat(contest.id));});};// 表示件数\nvar displayCountHandleChange=function displayCountHandleChange(count){props.setDisplayCount(+count.target.value);};// 並び替え   ok\nvar sortHandleChange=function sortHandleChange(filterSort){setSort(filterSort.target.value);var sorted=sortFilter(props.displayList,filterSort.target.value);props.setDisplayList(sorted);};var sortFilter=function sortFilter(searchedList,filterSort){if(filterSort==='newer'){return searchedList.slice().sort(function(a,b){if(a.start_epoch_second>b.start_epoch_second){return-1;}else{return 1;}});}if(filterSort==='older'){return searchedList.slice().sort(function(a,b){if(a.start_epoch_second<b.start_epoch_second){return-1;}else{return 1;}});}if(filterSort==='abcSort'){return searchedList.slice().sort(function(a,b){if(a.title<b.title){return-1;}else{return 1;}});}};return/*#__PURE__*/_jsxs(\"div\",{class:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"header-logo\",children:\"Atcoder Contests Information\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"drawer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"drawer-check\",class:\"drawer-hidden\"}),/*#__PURE__*/_jsx(\"label\",{for:\"drawer-check\",class:\"drawer-open\",children:/*#__PURE__*/_jsx(\"span\",{})}),/*#__PURE__*/_jsxs(\"div\",{class:\"forms\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"form select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:typeHandleChange,value:type,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"ALL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"abc\",children:\"ABC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"arc\",children:\"ARC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agc\",children:\"AGC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"past\",children:\"PAST\"}),/*#__PURE__*/_jsx(\"option\",{value:\"joi\",children:\"JOI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jag\",children:\"JAG\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"form select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:displayCountHandleChange,value:props.displayCount,children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:props.displayList.length,children:\"\\u5168\\u4EF6\\u8868\\u793A\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"form select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:sortHandleChange,value:sort,class:\"sort-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"newer\",children:\"\\u65B0\\u3057\\u3044\\u9806\"}),/*#__PURE__*/_jsx(\"option\",{value:\"older\",children:\"\\u53E4\\u3044\\u9806\"}),/*#__PURE__*/_jsx(\"option\",{value:\"abcSort\",children:\"\\u4E94\\u5341\\u97F3\\u9806\"})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-focus\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:keyword,placeholder:\"\\u691C\\u7D22\",onChange:function onChange(text){keywordChange(text);}})}),/*#__PURE__*/_jsx(\"span\",{class:\"focus_line\"})]})]})]})]});};export default Header;","map":{"version":3,"sources":["/Users/maekawaminoruyoshiko/program/AtCodersInformation/src/Components/Header/index.js"],"names":["React","useState","Header","props","type","setType","keyword","setKeyword","sort","setSort","typeHandleChange","filterType","target","value","searched","searchFilter","sorted","sortFilter","setDisplayList","keywordChange","filterWord","toLowerWord","toLowerCase","regWord","RegExp","regType","contestsList","filter","contest","toLowerTitle","title","test","start","duration_second","url","rate_change","id","displayCountHandleChange","count","setDisplayCount","sortHandleChange","filterSort","displayList","searchedList","slice","a","b","start_epoch_second","displayCount","length","text"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport './styles.css'\n\nconst Header = (props) => {\n    const [type, setType] = useState('')\n    const [keyword, setKeyword] = useState('')\n    const [sort, setSort] = useState('newer')\n\n    // 種類\n    const typeHandleChange = (filterType) => {\n        setType(filterType.target.value)\n        const searched = searchFilter(filterType.target.value, keyword)\n        const sorted = sortFilter(searched, sort)\n        props.setDisplayList(sorted)\n        sortFilter(sort)\n    }\n\n    // 検索\n    const keywordChange = (filterWord) => {\n        setKeyword(filterWord.target.value)\n        const searched = searchFilter(type, filterWord.target.value)\n        const sorted = sortFilter(searched, sort)\n        props.setDisplayList(sorted)\n    }\n\n    // 空白のとこ\n    const searchFilter = (filterType, filterWord) => {\n        // 大文字小文字対応\n        const toLowerWord = filterWord.toLowerCase()\n        const regWord = new RegExp(`.*${toLowerWord}.*`)\n        const regType = new RegExp(`^(?=.*${filterType}).*$`)\n        return (props.contestsList.filter((contest) => {\n            const toLowerTitle = contest.title.toLowerCase()\n            return regWord.test(`${contest.start}${contest.duration_second}toLowerTitle${contest.url}${contest.rate_change}`) && regType.test(`${contest.id}`)\n        }))\n    }\n\n    // 表示件数\n    const displayCountHandleChange = (count) => {\n        props.setDisplayCount(+count.target.value)\n    }\n\n    // 並び替え   ok\n    const sortHandleChange = (filterSort) => {\n        setSort(filterSort.target.value)\n        const sorted = sortFilter(props.displayList, filterSort.target.value)\n        props.setDisplayList(sorted)\n    }\n\n    const sortFilter = (searchedList, filterSort) => {\n        if (filterSort === 'newer') {\n            return (searchedList.slice().sort((a, b) => {\n                if (a.start_epoch_second > b.start_epoch_second) {\n                    return -1;\n                } else {\n                    return 1;\n                }\n            }))\n        }\n        if (filterSort === 'older') {\n            return (searchedList.slice().sort((a, b) => {\n                if (a.start_epoch_second < b.start_epoch_second) {\n                    return -1;\n                } else {\n                    return 1;\n                }\n            }))\n        }\n        if (filterSort === 'abcSort') {\n            return (searchedList.slice().sort((a, b) => {\n                if (a.title < b.title) {\n                    return -1;\n                } else {\n                    return 1;\n                }\n            }))\n        }\n    }\n\n    return (\n        <div class='header'>\n            <h1 class='header-logo'>Atcoder Contests Information</h1>\n\n            <div class=\"drawer\">\n                <input type=\"checkbox\" id=\"drawer-check\" class=\"drawer-hidden\" />\n                <label for=\"drawer-check\" class=\"drawer-open\"><span></span></label>\n                <div class='forms'>\n                    <div class='form select'>\n                        <select onChange={typeHandleChange} value={type}>\n                            <option value=''>ALL</option>\n                            <option value='abc'>ABC</option>\n                            <option value='arc'>ARC</option>\n                            <option value='agc'>AGC</option>\n                            <option value='past'>PAST</option>\n                            <option value='joi'>JOI</option>\n                            <option value='jag'>JAG</option>\n                        </select>\n                    </div>\n                    <div class='form select'>\n                        <select onChange={displayCountHandleChange} value={props.displayCount}>\n                            <option value='10'>10件表示</option>\n                            <option value='50'>50件表示</option>\n                            <option value='100'>100件表示</option>\n                            <option value={props.displayList.length} >全件表示</option>\n                        </select>\n                    </div>\n                    <div class='form select'>\n                        <select onChange={sortHandleChange} value={sort} class='sort-select'>\n                            <option value='newer'>新しい順</option>\n                            <option value='older'>古い順</option>\n                            <option value='abcSort'>五十音順</option>\n                        </select>\n                    </div>\n                    <div class='form'>\n                        <label class='form-focus'>\n                            <input\n                                type='text'\n                                value={keyword}\n                                placeholder='検索'\n                                onChange={(text) => { keywordChange(text) }}\n                            />\n                        </label>\n                        <span class='focus_line'></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}