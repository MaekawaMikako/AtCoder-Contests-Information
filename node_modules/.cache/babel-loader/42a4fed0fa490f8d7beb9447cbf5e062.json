{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/maekawaminoruyoshiko/program/AtCodersInformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';var Header=function Header(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),keyword=_useState4[0],setKeyword=_useState4[1];var _useState5=useState('newer'),_useState6=_slicedToArray(_useState5,2),sort=_useState6[0],setSort=_useState6[1];// 種類\nvar typeHandleChange=function typeHandleChange(filterType){setType(filterType.target.value);var searched=searchFilter(filterType.target.value,keyword);var sorted=sortFilter(searched,sort);props.setDisplayList(sorted);sortFilter(sort);console.log('type',filterType.target.value,props.contestsList,props.displayList);};// 検索\nvar keywordChange=function keywordChange(filterWord){setKeyword(filterWord.target.value);var searched=searchFilter(type,filterWord.target.value);var sorted=sortFilter(searched,sort);props.setDisplayList(sorted);console.log('text',filterWord.target.value,props.contestsList,props.displayList);};// 空白のとこ\nvar searchFilter=function searchFilter(filterType,filterWord){var regWord=new RegExp(\".*\".concat(filterWord,\".*\"));var regType=new RegExp(\"^(?=.*\".concat(filterType,\").*$\"));return props.contestsList.filter(function(contest){// console.log(contest.title, 'text:', regWord.test(`${contest.start}${contest.duration_second}${contest.title}${contest.url}${contest.rate_change}`), 'id:', regType.test(`${contest.id}`))\nreturn regWord.test(\"\".concat(contest.start).concat(contest.duration_second).concat(contest.title).concat(contest.url).concat(contest.rate_change))&&regType.test(\"\".concat(contest.id));});console.log(props.contestsList,props.displayList);};// 表示件数\nvar displayCountHandleChange=function displayCountHandleChange(count){props.setDisplayCount(+count.target.value);console.log(props.displayCount,\"count\");};// 並び替え   ok\nvar sortHandleChange=function sortHandleChange(filterSort){setSort(filterSort.target.value);var sorted=sortFilter(props.displayList,filterSort.target.value);props.setDisplayList(sorted);console.log(filterSort.target.value);};var sortFilter=function sortFilter(searchedList,filterSort){if(filterSort==='newer'){return searchedList.slice().sort(function(a,b){if(a.start_epoch_second>b.start_epoch_second){return-1;}else{return 1;}});}if(filterSort==='older'){return searchedList.slice().sort(function(a,b){if(a.start_epoch_second<b.start_epoch_second){return-1;}else{return 1;}});}if(filterSort==='abcSort'){return searchedList.slice().sort(function(a,b){if(a.title<b.title){return-1;}else{return 1;}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header-logo\",children:\"Atcoder Contests Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formats\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"format select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:typeHandleChange,value:type,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"ALL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"abc\",children:\"ABC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"arc\",children:\"ARC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agc\",children:\"AGC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"past\",children:\"PAST\"}),/*#__PURE__*/_jsx(\"option\",{value:\"joi\",children:\"JOI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jag\",children:\"JAG\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"format select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:displayCountHandleChange,value:props.displayCount,children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\\u4EF6\\u8868\\u793A\"}),/*#__PURE__*/_jsx(\"option\",{value:props.displayList.length,children:\"\\u5168\\u4EF6\\u8868\\u793A\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"format select\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:sortHandleChange,value:sort,className:\"sortSelect\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"newer\",children:\"\\u65B0\\u3057\\u3044\\u9806\"}),/*#__PURE__*/_jsx(\"option\",{value:\"older\",children:\"\\u53E4\\u3044\\u9806\"}),/*#__PURE__*/_jsx(\"option\",{value:\"abcSort\",children:\"\\u4E94\\u5341\\u97F3\\u9806\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"format\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"format-focus\",children:/*#__PURE__*/_jsx(\"input\",{className:\"text-format\",type:\"text\",value:keyword,placeholder:\"Keyword\",onChange:function onChange(text){keywordChange(text);}})}),/*#__PURE__*/_jsx(\"span\",{class:\"focus_line\"})]})]})]});};export default Header;","map":{"version":3,"sources":["/Users/maekawaminoruyoshiko/program/AtCodersInformation/src/Components/Header.js"],"names":["React","useState","Header","props","type","setType","keyword","setKeyword","sort","setSort","typeHandleChange","filterType","target","value","searched","searchFilter","sorted","sortFilter","setDisplayList","console","log","contestsList","displayList","keywordChange","filterWord","regWord","RegExp","regType","filter","contest","test","start","duration_second","title","url","rate_change","id","displayCountHandleChange","count","setDisplayCount","displayCount","sortHandleChange","filterSort","searchedList","slice","a","b","start_epoch_second","length","text"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\nconst Header = (props) => {\n    const [type, setType] = useState('')\n    const [keyword, setKeyword] = useState('')\n    const [sort, setSort] = useState('newer')\n\n    // 種類\n    const typeHandleChange = (filterType) => {\n        setType(filterType.target.value)\n        const searched = searchFilter(filterType.target.value, keyword)\n        const sorted = sortFilter(searched, sort)\n        props.setDisplayList(sorted)\n        sortFilter(sort)\n        console.log('type', filterType.target.value, props.contestsList, props.displayList)\n    }\n\n    // 検索\n    const keywordChange = (filterWord) => {\n        setKeyword(filterWord.target.value)\n        const searched = searchFilter(type, filterWord.target.value)\n        const sorted = sortFilter(searched, sort)\n        props.setDisplayList(sorted)\n        console.log('text', filterWord.target.value, props.contestsList, props.displayList)\n    }\n\n    // 空白のとこ\n    const searchFilter = (filterType, filterWord) => {\n        const regWord = new RegExp(`.*${filterWord}.*`)\n        const regType = new RegExp(`^(?=.*${filterType}).*$`)\n        return (props.contestsList.filter((contest) => {\n            // console.log(contest.title, 'text:', regWord.test(`${contest.start}${contest.duration_second}${contest.title}${contest.url}${contest.rate_change}`), 'id:', regType.test(`${contest.id}`))\n            return regWord.test(`${contest.start}${contest.duration_second}${contest.title}${contest.url}${contest.rate_change}`) && regType.test(`${contest.id}`)\n        }))\n        console.log(props.contestsList, props.displayList)\n    }\n\n    // 表示件数\n    const displayCountHandleChange = (count) => {\n        props.setDisplayCount(+count.target.value)\n        console.log(props.displayCount, \"count\")\n    }\n\n    // 並び替え   ok\n    const sortHandleChange = (filterSort) => {\n        setSort(filterSort.target.value)\n        const sorted = sortFilter(props.displayList, filterSort.target.value)\n        props.setDisplayList(sorted)\n        console.log(filterSort.target.value)\n    }\n\n    const sortFilter = (searchedList, filterSort) => {\n        if (filterSort === 'newer') {\n            return (searchedList.slice().sort((a, b) => {\n                if (a.start_epoch_second > b.start_epoch_second) {\n                    return -1;\n                } else {\n                    return 1;\n                }\n            }))\n        }\n        if (filterSort === 'older') {\n            return (searchedList.slice().sort((a, b) => {\n                if (a.start_epoch_second < b.start_epoch_second) {\n                    return -1;\n                } else {\n                    return 1;\n                }\n            }))\n        }\n        if (filterSort === 'abcSort') {\n            return (searchedList.slice().sort((a, b) => {\n                if (a.title < b.title) {\n                    return -1;\n                } else {\n                    return 1;\n                }\n            }))\n        }\n    }\n\n    return (\n        <div className='header'>\n            <h1 className='header-logo'>Atcoder Contests Information</h1>\n\n            <div className=\"formats\">\n                <div className='format select'>\n                    <select onChange={typeHandleChange} value={type}>\n                        <option value=''>ALL</option>\n                        <option value='abc'>ABC</option>\n                        <option value='arc'>ARC</option>\n                        <option value='agc'>AGC</option>\n                        <option value='past'>PAST</option>\n                        <option value='joi'>JOI</option>\n                        <option value='jag'>JAG</option>\n                    </select>\n                </div>\n                <div className='format select'>\n                    <select onChange={displayCountHandleChange} value={props.displayCount}>\n                        <option value='10'>10件表示</option>\n                        <option value='50'>50件表示</option>\n                        <option value='100'>100件表示</option>\n                        <option value={props.displayList.length} >全件表示</option>\n                    </select>\n                </div>\n                <div className='format select'>\n                    <select onChange={sortHandleChange} value={sort} className=\"sortSelect\">\n                        <option value='newer'>新しい順</option>\n                        <option value='older'>古い順</option>\n                        <option value='abcSort'>五十音順</option>\n                    </select>\n                </div>\n                <div className='format'>\n                    <label class=\"format-focus\">\n                        <input\n                            className='text-format'\n                            type='text'\n                            value={keyword}\n                            placeholder='Keyword'\n                            onChange={(text) => { keywordChange(text) }}\n                        />\n                    </label>\n                    <span class=\"focus_line\"></span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}